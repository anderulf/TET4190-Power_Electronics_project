%% Common constans
Vd=230*0.9;
V0=385;

D=1-(Vd/V0); %Duty cycle
I_D_avg_10=10; %average load current
I_D_avg_7=7; %average load current
I_D_avg_6=6; %average load current
I_D_avg_5=5; %average load current
I_D_avg_4=4; %average load current
I_D_avg_3=3; %average load current
I_D_avg_2=2; %average load current

total_mos_diode_losses_10=zeros(131,1);
total_s_loss_mos_di_10=zeros(131,1);

total_mos_diode_losses_7=zeros(131,1);
total_s_loss_mos_di_7=zeros(131,1);

total_mos_diode_losses_6=zeros(131,1);
total_s_loss_mos_di_6=zeros(131,1);

total_mos_diode_losses_5=zeros(131,1);
total_s_loss_mos_di_5=zeros(131,1);

total_mos_diode_losses_4=zeros(131,1);
total_s_loss_mos_di_4=zeros(131,1);

total_mos_diode_losses_3=zeros(131,1);
total_s_loss_mos_di_3=zeros(131,1);

total_mos_diode_losses_2=zeros(131,1);
total_s_loss_mos_di_2=zeros(131,1);

counter=1;

 %For 10A 
 E_sl_mosfet_sic_10=62.742+61.219;
 E_sl_diode_sic_10=-6.531+7.4021;
 
 %For 7A 
 E_sl_mosfet_sic_7=33.668+43.59;
 E_sl_diode_sic_7=-7.3708+7.7226;
 
 %For 6A 
 E_sl_mosfet_sic_6=25.42+36.48;
 E_sl_diode_sic_6=-7.3893+7.7711;
 
 %For 5A 
 E_sl_mosfet_sic_5=19.203+31.37;
 E_sl_diode_sic_5=-7.4823+7.8823;
 
 %For 4A 
 E_sl_mosfet_sic_4=14.94+27.418;
 E_sl_diode_sic_4=-7.6926+7.8167;
 
 %For 3A 
 E_sl_mosfet_sic_3=12.345+22.843;
 E_sl_diode_sic_3=-7.7165+8.0197;
 
 %For 2A 
 E_sl_mosfet_sic_2=11.48+19.36;
 E_sl_diode_sic_2=-7.88+7.9;


 frequencies=20000:1000:150000;
 
for fs=20000:1000:150000
    disp('----------------------------------------------------------')
    disp(fs)
    %switching losses P_sl_mos_diode (I= 10 Ampere)

    P_sl_mosfet_sic_10=E_sl_mosfet_sic_10*10^(-6)*fs;
    P_sl_diode_sic_10=E_sl_diode_sic_10*10^(-6)*fs; 
    
    P_sl_mosfet_sic_7=E_sl_mosfet_sic_7*10^(-6)*fs;
    P_sl_diode_sic_7=E_sl_diode_sic_7*10^(-6)*fs;
    
    P_sl_mosfet_sic_6=E_sl_mosfet_sic_6*10^(-6)*fs;
    P_sl_diode_sic_6=E_sl_diode_sic_6*10^(-6)*fs;
    
    P_sl_mosfet_sic_5=E_sl_mosfet_sic_5*10^(-6)*fs;
    P_sl_diode_sic_5=E_sl_diode_sic_5*10^(-6)*fs;
    
    P_sl_mosfet_sic_4=E_sl_mosfet_sic_4*10^(-6)*fs;
    P_sl_diode_sic_4=E_sl_diode_sic_4*10^(-6)*fs;
    
    P_sl_mosfet_sic_3=E_sl_mosfet_sic_3*10^(-6)*fs;
    P_sl_diode_sic_3=E_sl_diode_sic_3*10^(-6)*fs;
    
    P_sl_mosfet_sic_2=E_sl_mosfet_sic_2*10^(-6)*fs;
    P_sl_diode_sic_2=E_sl_diode_sic_2*10^(-6)*fs;
    

    %%Mosfet Sic
    r_mosfet_sic=0.0875673907; %Sic 
    
    %10A
    I_L_avg_10=(I_D_avg_10*0.81)/(1-D);
    I_L_rms_10=I_L_avg_10/0.9;
    I_mos_rms_10=I_L_rms_10*sqrt(1-(1-D)*(1/0.81));
    P_on_mos_sic_10=I_mos_rms_10^2*r_mosfet_sic;
    
    %7A
    I_L_avg_7=(I_D_avg_7*0.81)/(1-D);
    I_L_rms_7=I_L_avg_7/0.9;
    I_mos_rms_7=I_L_rms_7*sqrt(1-(1-D)*(1/0.81));
    P_on_mos_sic_7=I_mos_rms_7^2*r_mosfet_sic;
    
    %6A
    I_L_avg_6=(I_D_avg_6*0.81)/(1-D);
    I_L_rms_6=I_L_avg_6/0.9;
    I_mos_rms_6=I_L_rms_6*sqrt(1-(1-D)*(1/0.81));
    P_on_mos_sic_6=I_mos_rms_6^2*r_mosfet_sic;
    
    %5A
    I_L_avg_5=(I_D_avg_5*0.81)/(1-D);
    I_L_rms_5=I_L_avg_5/0.9;
    I_mos_rms_5=I_L_rms_5*sqrt(1-(1-D)*(1/0.81));
    P_on_mos_sic_5=I_mos_rms_5^2*r_mosfet_sic;
    
    %4A
    I_L_avg_4=(I_D_avg_4*0.81)/(1-D);
    I_L_rms_4=I_L_avg_4/0.9;
    I_mos_rms_4=I_L_rms_4*sqrt(1-(1-D)*(1/0.81));
    P_on_mos_sic_4=I_mos_rms_4^2*r_mosfet_sic;
    
    %3A
    I_L_avg_3=(I_D_avg_3*0.81)/(1-D);
    I_L_rms_3=I_L_avg_3/0.9;
    I_mos_rms_3=I_L_rms_3*sqrt(1-(1-D)*(1/0.81));
    P_on_mos_sic_3=I_mos_rms_3^2*r_mosfet_sic;
    
    %2A
    I_L_avg_2=(I_D_avg_2*0.81)/(1-D);
    I_L_rms_2=I_L_avg_2/0.9;
    I_mos_rms_2=I_L_rms_2*sqrt(1-(1-D)*(1/0.81));
    P_on_mos_sic_2=I_mos_rms_2^2*r_mosfet_sic;
    

    %%Diode Sic
    r_on_diode_sic=0.03585; %Si
    V_f_sic=0.8081; %Si
    
    %10A
    I_D_rms_10=I_L_rms_10*sqrt((1-D)*(1/0.81));
    P_on_diode_sic_10=V_f_sic*I_D_avg_10+r_on_diode_sic*I_D_rms_10^2;
   
    %7A
    I_D_rms_7=I_L_rms_7*sqrt((1-D)*(1/0.81));
    P_on_diode_sic_7=V_f_sic*I_D_avg_7+r_on_diode_sic*I_D_rms_7^2;
    
    %4A
    I_D_rms_4=I_L_rms_4*sqrt((1-D)*(1/0.81));
    P_on_diode_sic_4=V_f_sic*I_D_avg_4+r_on_diode_sic*I_D_rms_4^2;
   
    %2A
    I_D_rms_2=I_L_rms_2*sqrt((1-D)*(1/0.81));
    P_on_diode_sic_2=V_f_sic*I_D_avg_2+r_on_diode_sic*I_D_rms_2^2;
    
    %3A
    I_D_rms_3=I_L_rms_3*sqrt((1-D)*(1/0.81));
    P_on_diode_sic_3=V_f_sic*I_D_avg_3+r_on_diode_sic*I_D_rms_3^2;
    
    %5A
    I_D_rms_5=I_L_rms_5*sqrt((1-D)*(1/0.81));
    P_on_diode_sic_5=V_f_sic*I_D_avg_5+r_on_diode_sic*I_D_rms_5^2;
    
    %6A
    I_D_rms_6=I_L_rms_6*sqrt((1-D)*(1/0.81));
    P_on_diode_sic_6=V_f_sic*I_D_avg_6+r_on_diode_sic*I_D_rms_6^2;

    p_tot_mosfet_10=P_sl_mosfet_sic_10+P_on_mos_sic_10;
    p_tot_mosfet_7=P_sl_mosfet_sic_7+P_on_mos_sic_7;
    p_tot_mosfet_4=P_sl_mosfet_sic_4+P_on_mos_sic_4;
    p_tot_mosfet_2=P_sl_mosfet_sic_2+P_on_mos_sic_2;
    p_tot_mosfet_3=P_sl_mosfet_sic_3+P_on_mos_sic_3;
    p_tot_mosfet_5=P_sl_mosfet_sic_5+P_on_mos_sic_5;
    p_tot_mosfet_6=P_sl_mosfet_sic_6+P_on_mos_sic_6;

    p_tot_diode_10=P_sl_diode_sic_10+P_on_diode_sic_10;
    p_tot_diode_7=P_sl_diode_sic_7+P_on_diode_sic_7;
    p_tot_diode_4=P_sl_diode_sic_4+P_on_diode_sic_4;
    p_tot_diode_2=P_sl_diode_sic_2+P_on_diode_sic_2;
    p_tot_diode_3=P_sl_diode_sic_3+P_on_diode_sic_3;
    p_tot_diode_5=P_sl_diode_sic_5+P_on_diode_sic_5;
    p_tot_diode_6=P_sl_diode_sic_6+P_on_diode_sic_6;


    p_tot_sic_sic_10=p_tot_mosfet_10+p_tot_diode_10;
    p_tot_sic_sic_7=p_tot_mosfet_7+p_tot_diode_7;
    p_tot_sic_sic_4=p_tot_mosfet_4+p_tot_diode_4;
    p_tot_sic_sic_2=p_tot_mosfet_2+p_tot_diode_2;
    p_tot_sic_sic_3=p_tot_mosfet_3+p_tot_diode_3;
    p_tot_sic_sic_5=p_tot_mosfet_5+p_tot_diode_5;
    p_tot_sic_sic_6=p_tot_mosfet_6+p_tot_diode_6;
  
    
    total_s_loss_mos_di_10(counter)=P_sl_diode_sic_10+P_sl_mosfet_sic_10;
    total_mos_diode_losses_10(counter)=p_tot_sic_sic_10; 
    
    total_s_loss_mos_di_7(counter)=P_sl_diode_sic_7+P_sl_mosfet_sic_7;
    total_mos_diode_losses_7(counter)=p_tot_sic_sic_7; 
    
    total_s_loss_mos_di_4(counter)=P_sl_diode_sic_4+P_sl_mosfet_sic_4;
    total_mos_diode_losses_4(counter)=p_tot_sic_sic_4; 
    
    total_s_loss_mos_di_2(counter)=P_sl_diode_sic_2+P_sl_mosfet_sic_2;
    total_mos_diode_losses_2(counter)=p_tot_sic_sic_2; 
    
    total_s_loss_mos_di_3(counter)=P_sl_diode_sic_3+P_sl_mosfet_sic_3;
    total_mos_diode_losses_3(counter)=p_tot_sic_sic_3; 
    
    total_s_loss_mos_di_5(counter)=P_sl_diode_sic_5+P_sl_mosfet_sic_5;
    total_mos_diode_losses_5(counter)=p_tot_sic_sic_5; 
    
    total_s_loss_mos_di_6(counter)=P_sl_diode_sic_6+P_sl_mosfet_sic_6;
    total_mos_diode_losses_6(counter)=p_tot_sic_sic_6; 
    
    
    counter=counter+1; 
end



%Inductor losses

%10A
inductor_losses_10=[43.641688939495296, 42.08039249033523, 40.65424241874269, 39.30832973424822, 38.08577314041921, 36.934546779393344, 35.87401978342787, 34.877999017810424, 33.94380870954809, 33.06892923884667, 32.25099212326097, 31.467194997058833, 30.73666643456943, 30.037449428063518, 29.36853877182487, 28.748341711445317, 28.156019509376073, 27.571865762321526, 27.033007395564596, 26.519554914446616, 26.030759848396293, 25.54798781127517, 25.088898242559353, 24.670314979164704, 24.239091015003236, 23.847115917170704, 23.4593728939865, 23.092588499049214, 22.72963118547784, 22.386889178061228, 22.047594737610332, 21.727816842123342, 21.411131467218667, 21.113306970843524, 20.83388842864583, 20.54142685758825, 20.267062300850714, 20.010371079826015, 19.755844699852858, 19.503473753597813, 19.268104757376825, 19.03462600406236, 18.80302966237239, 18.587814538278263, 18.359841572171664, 18.162292650636022, 17.95197300780266, 17.757346853377772, 17.56412292608318, 17.372295996872328, 17.195639406242613, 17.00649042271444, 16.832308582686228, 16.67281140068595, 16.50090205208094, 16.34349258749729, 16.187079458702186, 16.031659378019555, 15.877229066532214, 15.723785253786598, 15.584236223018731, 15.445508173632389, 15.307598575924471, 15.170504907187402, 15.034224651488236, 14.898755299455953, 14.776560512080332, 14.655029308161545, 14.534159789997362, 14.413950065330125, 14.294398247186972, 14.175502453725443, 14.069330579155434, 13.95167459897989, 13.84661280411544, 13.74207404180789, 13.638056934518428, 13.534560108740274, 13.431582194889899, 13.32912182720169, 13.227177643625868, 13.137285713975812, 13.04779712866585, 12.94727676094029, 12.858643423736234, 12.77041041625423, 12.68257677688478, 12.595141546886449, 12.508103770315564, 12.432589512550841, 12.3462929863859, 12.260391173245303, 12.18586468123508, 12.10069898004174, 12.02681255085523, 11.953223193707991, 11.879930264320203, 11.806933120479831, 11.734231121996707, 11.661823630657748, 11.589710010183364, 11.517889626184965, 11.44636184612356, 11.385629386749688, 11.314641953769117, 11.254369250312616, 11.183919977380986, 11.124105135606458, 11.064500388722507, 11.005105330769336, 10.93568334879812, 10.876742531835914, 10.818010134030642, 10.759485754933236, 10.70116899539552, 10.643059457544759, 10.585156744758834, 10.527460461641931, 10.47991950400461, 10.422599304388031, 10.375368856275896, 10.318423401950092, 10.261682537725251, 10.214930290348432, 10.158562125615484, 10.112117522136895, 10.056120739735471, 10.009982665804875, 9.96398299248165, 9.918121486622011, 9.862828548670688];


%7A
inductor_losses_7=[25.95199442959612, 25.02938678440183, 24.180612114567683, 23.401841672410775, 22.672992713714578, 21.991794467359266, 21.356115178465185, 20.779573116070935, 20.213452363540423, 19.88435660762872, 19.24539263333032, 18.7804144898688, 18.322943014833495, 17.929520443421982, 17.597644957058325, 17.214646533374882, 16.81004333863884, 16.46528606662359, 16.191362931566736, 15.828976754422095, 15.53633615135267, 15.285508678227485, 15.024765352799285, 14.729624988299369, 14.524452476284743, 14.260202377647076, 14.059382441542528, 13.836548503080644, 13.604247870302258, 13.409586427011115, 13.20519056621868, 13.025791349997478, 12.848005771888172, 12.638054584719717, 12.497244608759397, 12.302140782529921, 12.141887286680678, 12.081025668846465, 11.8470583302329, 11.71212200861962, 11.588822071688622, 11.413700047057876, 11.313381546845877, 11.151366698851215, 11.021697338263543, 10.923657375122259, 10.785593940598297, 10.668796144223839, 10.572829054771692, 10.437692372002159, 10.352959926457487, 10.258865976221578, 10.126373476127688, 10.02396692385438, 9.960685344608597, 9.830727045437262, 9.739767561126813, 9.67766565939156, 9.559500166400106, 9.488824582582568, 9.409214912913848, 9.330041852247842, 9.251304046969807, 9.145663415594672, 9.067943147962305, 8.990653743749643, 8.913793886233664, 8.855179524361837, 8.787942941670606, 8.721038772819867, 8.663252332912812, 8.570756338044141, 8.496249245467071, 8.448077545963853, 8.451882784602894, 8.33511138618221, 8.244903790073561, 8.189183001161473, 8.133706269811677, 8.078472964160282, 8.031848965903327, 7.960410240887813, 7.914227355404376, 7.851711046118623, 7.838849291688327, 7.760333414240569, 7.690462737503597, 7.653405863313852, 7.624555666227708, 7.539392653883962, 7.502805467594433, 7.450373443906102, 7.3981771789553985, 7.401668970844197, 7.318113367483729, 7.266513422872661, 7.230781294256096, 7.17957673298776, 7.183001720608825, 7.186435426992722, 7.065828031488924, 7.030730167266631, 6.988086950029684, 6.937987627288612, 6.941337538661554, 6.944695564545532, 6.826700903961772, 6.814938795000207, 6.765633127565679, 6.768930946973922, 6.772236444719831, 6.67096743274067, 6.629725656005476, 6.588646049235154, 6.547728274656068, 6.521610848116531, 6.480957206480776, 6.440464494295654, 6.421868661450938, 6.3816094029600805, 6.348708317970181, 6.337470319492317, 6.297545216907877, 6.272061210462034, 6.225281987311011, 6.199981902280932, 6.174746379051087, 6.149575297008963, 6.110400084644411, 6.085393563719709, 6.0534609532435];

%4A
inductor_losses_4=[11.74321428345213, 11.300585074723415, 10.93026458997509, 10.588009539943513, 10.252864384938219, 9.972788682943103, 9.678886826593395, 9.418492475235649, 9.180941354695356, 8.947335983670536, 8.73528168457027, 8.543916902796223, 8.346728004692954, 8.160962019220648, 7.994554909608231, 7.838587617338881, 7.676482738604241, 7.532587116195731, 7.390443805975009, 7.257867284740329, 7.126830941120869, 7.0126304406310656, 6.899610727243551, 6.787764477186127, 6.6770845186685674, 6.5896190560475585, 6.466463906466641, 6.373561780559614, 6.295798828480438, 6.190309405369771, 6.113972719774251, 6.024320262981981, 5.949284396414328, 5.888533465257182, 5.794196947309328, 5.727709031862667, 5.655018300099214, 5.589534652466965, 5.524525277137465, 5.459987977663152, 5.402408688587855, 5.34520625650791, 5.281976602453838, 5.244660173790194, 5.175843471639354, 5.1201320390537965, 5.077269413929981, 5.022209610704211, 4.986020706695743, 4.931565360910715, 4.877473603815929, 4.8358538816695065, 4.794447918013227, 4.747260851276, 4.706311518102199, 4.6715042333159245, 4.630945072379586, 4.608229175838727, 4.550455273908063, 4.516333214884319, 4.488149764005626, 4.454300711699679, 4.409133360542412, 4.375634041092071, 4.342282510608186, 4.314730763559061, 4.28164721119901, 4.248710050675205, 4.221497903995739, 4.194384065946697, 4.161831381449542, 4.134934225248368, 4.108134339448765, 4.081431405281871, 4.0602775900117285, 4.028315167195269, 4.001901275325355, 3.9755831586506303, 3.960102228295628, 3.9285806085672017, 3.907858585978208, 3.8818790482876593, 3.861288317343676, 3.851325750441759, 3.815016425337193, 3.7946130561593794, 3.7742664048558145, 3.753976296966707, 3.738940348958112, 3.7135650444392807, 3.6934435812833275, 3.6785276188317737, 3.6533682283304407, 3.633414054188546, 3.6339499021232164, 3.5987574243312923, 3.5840274154410823, 3.564262348098709, 3.5495991102628377, 3.5299279000392527, 3.535456886982522, 3.4957532261188096, 3.4812222492218385, 3.4667184571694913, 3.452241757037739, 3.4328337063532293, 3.418422214189953, 3.40403756132019, 3.389679668995697, 3.3753484617961527, 3.365945729504115, 3.3565516761027254, 3.3325142452611214, 3.3182890885949483, 3.308946862425071, 3.294763024341893, 3.2806054252866756, 3.266474014057409, 3.2571846872669634, 3.2430941472479873, 3.229029651589118, 3.2197777463312924, 3.205753837428529, 3.1965244111596895, 3.182540918755347, 3.1733337786600435, 3.1593905509541607, 3.150205521497915, 3.1363024244811077, 3.1271393467977227, 3.122696155156148];

%2A
inductor_losses_2=[4.684193004526896, 4.535222627587588, 4.4005407794217675, 4.279475848761519, 4.165921707671524, 4.054171303037673, 3.9548552709631517, 3.8674753973426976, 3.7812078823447894, 3.711420022924245, 3.6220731290082133, 3.553927088704224, 3.486479096980552, 3.4344206187561626, 3.363335388210838, 3.3074263127746995, 3.251991161852878, 3.201736874309453, 3.1565361451130367, 3.1116339269492777, 3.0670275925140684, 3.0272831882157147, 2.98776129667309, 2.9529684386338646, 2.913853973488899, 2.8794053572276104, 2.849537696702714, 2.819773706374312, 2.7901122511984475, 2.756198188498524, 2.73109327233852, 2.7017343172567725, 2.6853509456968134, 2.6561190049737586, 2.639758866487499, 2.606413799819067, 2.598544348160739, 2.5737491046634036, 2.549007833732027, 2.5243205568309284, 2.5038442962848717, 2.487532369262048, 2.4712119890767434, 2.450759325950366, 2.438544787276264, 2.4221975890054246, 2.4058411789542564, 2.397644661409191, 2.37717113489017, 2.3607752404340223, 2.3484215412801746, 2.3360393980606293, 2.323628712895569, 2.3111894301766336, 2.2987215350509578, 2.2942656954415295, 2.289768535592343, 2.265148636404649, 2.2565574018656203, 2.247926207595934, 2.235263409903604, 2.2305435568535246, 2.217807893671785, 2.209019980697245, 2.2001919639433276, 2.1952960616391177, 2.2062960934490223, 2.177431489821239, 2.172403486833248, 2.1713010840160414, 2.1503354629122784, 2.1491302786339044, 2.1360195182960053, 2.130770861789473, 2.1254782034342212, 2.1240920773827514, 2.1226663798536345, 2.1172409643480172, 2.0999222502747266, 2.094409776156368, 2.088853375168373, 2.0832530957066044, 2.0776089993334095, 2.071921160436907, 2.070130268144008, 2.064354221009676, 2.0585346398394155, 2.0526716466696633, 2.0507065137414964, 2.0526505678966256, 2.038761950199564, 2.0366671647353343, 2.03058611372063, 2.0284061845465287, 2.026185398371797, 2.0199733165567046, 2.01766749466381, 2.015320799437055, 2.012933218279971, 2.0065470604256115, 2.0040747627185125, 2.001561653069502, 1.999007747155357, 1.9964130672508043, 1.993777642090017, 1.991101506731557, 1.9883847024266488, 1.9856272764906686, 1.9828292821777436, 1.9799907785583444, 1.9850894072019805, 1.9741925080495497, 1.9792189663039714, 1.9722254072944256, 1.9771921912552297, 1.9661092284206845, 1.9669944455619515, 1.9758861482589611, 1.9606418613684375, 1.957405854486006, 1.9581455246690964, 1.954831763857013, 1.9514785141717121, 1.9521108737290793, 1.9527120151404582, 1.9492434041500926, 1.9457356913838841, 1.9462296355773503, 1.9426451066988066, 1.943069906726274, 1.9475235490747693];

%3A
inductor_losses_3=[7.899512783659338, 7.628916537513341, 7.3881105558402655, 7.160023824497824, 6.9441277441010545, 6.7473815870439555, 6.568911610683392, 6.407923888148137, 6.2423723073797746, 6.093545934654452, 5.967672685995968, 5.816256991649174, 5.69404674136907, 5.580075417740288, 5.467544438110544, 5.362890790990014, 5.259493259014753, 5.16363957454161, 5.081337800685163, 4.987506817368103, 4.906945025518669, 4.827182441291026, 4.754196375326189, 4.681881696754753, 4.610234102194344, 4.545069018679731, 4.480456544503953, 4.422116549537312, 4.358549029875765, 4.32371049810811, 4.249786814844416, 4.198778431889952, 4.148124859986812, 4.0978241521671155, 4.0533054127702, 4.003664934119344, 3.9597279024486265, 3.9267178875568405, 3.877956235376171, 3.840053813877759, 3.797123383534279, 3.76485449565183, 3.732730341259125, 3.6904558960508003, 3.6586692096009066, 3.621935392651921, 3.590457707985758, 3.5591208317407395, 3.527924115228262, 3.5018553458583295, 3.47091193144766, 3.4450496455864026, 3.4143574015949762, 3.3886996013497224, 3.363133121248019, 3.3376575477981563, 3.3122724949618423, 3.2917972176880386, 3.2665716146040094, 3.251006681754557, 3.221151315639043, 3.2009196219701663, 3.18074015588185, 3.160612653763639, 3.140536870948444, 3.120512581124628, 3.100539575769388, 3.0806176636023777, 3.06074667005855, 3.0455502470931215, 3.0257645836542544, 3.010625763890626, 3.0000994434872426, 2.9758429868560707, 2.9607836936830663, 2.9502973978916893, 2.9352712875348095, 2.920267312127499, 2.9098060341327825, 2.890325341095302, 2.8708943680765246, 2.860470741147726, 2.8455760180537766, 2.830702932754657, 2.815851437050969, 2.805460510932179, 2.790640311989597, 2.78026171319513, 2.7698855993910407, 2.7551060624873034, 2.7447418538700665, 2.7343799113445635, 2.7284043185790763, 2.7092903856396098, 2.6989421664875373, 2.6885960078534685, 2.678251867161119, 2.667909707796454, 2.6575694989740386, 2.651559113195826, 2.641215254860422, 2.6308732587468246, 2.6205331159055665, 2.6101948226039586, 2.604153299575512, 2.593811085269123, 2.5877550706439902, 2.5774088591695605, 2.567064490868134, 2.5609879330392604, 2.550639549935916, 2.544548162968911, 2.538447780982584, 2.5280894697114986, 2.5219741074579307, 2.5158496504662047, 2.5054814480872825, 2.499341924829269, 2.4931932379150696, 2.4870353620322385, 2.4766515025536786, 2.470478521299895, 2.4642963203931085, 2.458104886569067, 2.4519042093978047, 2.449894098772597, 2.4394750971599573, 2.433246654950804, 2.4270089550124845, 2.4207620003419166, 2.4145057964796397];

%5A
inductor_losses_5=[16.025010823605168, 15.463264742228462, 14.93979482015083, 14.4527272047085, 14.012341439635248, 13.604501392670764, 13.216150411372702, 12.85791376131277, 12.517307561219436, 12.204663688861968, 11.908014789891228, 11.626790914726929, 11.360450069865516, 11.108477428797057, 10.870384578225126, 10.645708798793276, 10.424100398950532, 10.225094065798396, 10.028592613683928, 9.844120933918138, 9.6618825866926, 9.49118021262107, 9.331674226009556, 9.173927643464397, 9.026947763538663, 8.88151061102514, 8.746442058690901, 8.612716668021285, 8.480327021874086, 8.357843802376408, 8.245017000145516, 8.124754102352815, 8.01398092153735, 7.912469118948772, 7.803580903194136, 7.703802982185765, 7.604851902584785, 7.51473238397786, 7.42530347452186, 7.336562085167941, 7.248505168363074, 7.168899476545873, 7.082141911179302, 7.0037144476875035, 6.933450241411946, 6.856082004406007, 6.786769335408586, 6.7104519103975875, 6.649487864007461, 6.581515576966738, 6.513986640309003, 6.4541648475639715, 6.387469591008132, 6.3355683512082885, 6.269652983583799, 6.211263656084683, 6.16027242239902, 6.102528551376061, 6.052101882758512, 5.994999113154989, 5.9451330792897386, 5.895527763258166, 5.846182306344948, 5.803889334063659, 5.755024967795031, 5.70641803848622, 5.664758396379299, 5.623288072436181, 5.575377014443411, 5.534314079964183, 5.493438664893404, 5.452750207122796, 5.418755866227619, 5.378409369855162, 5.338248251525129, 5.3046941312353075, 5.264872041392088, 5.231600884139235, 5.1921159784759014, 5.1591261427904405, 5.1262639581638, 5.093529071324518, 5.0609211352823955, 5.0284398091677485, 4.996084758075445, 4.9638556529135585, 4.937896379064875, 4.90589360930396, 4.874015864965564, 4.848338450033593, 4.822741523309768, 4.791188089583153, 4.765770873410039, 4.740433480128935, 4.709202085763984, 4.68404304770729, 4.658963205291902, 4.633962363679339, 4.609040331803477, 4.584196922287035, 4.559431951360213, 4.534745238781416, 4.515956138149512, 4.491406236600184, 4.466934090975355, 4.442539534291961, 4.423970306263878, 4.399711325636298, 4.381244134756281, 4.357120163369638, 4.338754502919454, 4.314764996337182, 4.296500380729872, 4.278279072165937, 4.260100965177089, 4.236359834882823, 4.218281879969182, 4.200246816502031, 4.182254547935279, 4.164304979825893, 4.146398019794659, 4.12853357748778, 4.110711564539348, 4.09293189453459, 4.075194482973932, 4.057499247237803, 4.039846106552199, 4.027672883403003, 4.010089722112548, 3.992548430525213, 3.980449815819485];

%6A
inductor_losses_6=[20.791349877812014, 20.04353296686118, 19.373355845658395, 18.747370904501814, 18.163500424018135, 17.619797656328807, 17.114442036154536, 16.645734647023836, 16.212093939064026, 15.799019785487584, 15.405777566281431, 15.04427583781409, 14.688425883802491, 14.362635604191427, 14.05371019903141, 13.761093985967058, 13.47252694738108, 13.211123296511488, 12.953086173891224, 12.709676842943228, 12.48045001738676, 12.253962427688542, 12.041087105349847, 11.841430633302998, 11.64396366924309, 11.448673417502368, 11.276403650754908, 11.095517355732982, 10.926764117895194, 10.769825379399661, 10.614372066976642, 10.460396581027375, 10.317733415949874, 10.176350129872052, 10.036240501872715, 9.906982670248643, 9.77881786757655, 9.65174105847201, 9.535095380129528, 9.419373548751937, 9.304571539421227, 9.199818204211514, 9.086770645191288, 8.983623919155747, 8.890173893521814, 8.788487204339347, 8.696364338543598, 8.604871001411267, 8.514004775885622, 8.423763266493665, 8.342715380776259, 8.253656766089218, 8.173674432257648, 8.094195290394394, 8.015217550639525, 7.945044363058277, 7.86701130741562, 7.797679735105521, 7.728743400398951, 7.660200994431924, 7.592051221024388, 7.5242927962645565, 7.456924448109005, 7.397876877663926, 7.339130366142916, 7.2728327843525715, 7.214725867547615, 7.156917172600395, 7.099405802813405, 7.0498816495995955, 6.992922394802425, 6.936257916948998, 6.887464320650655, 6.838890084565787, 6.7830257095409, 6.734922297838438, 6.687036354887768, 6.639367285314925, 6.591914499974584, 6.544677415783, 6.504961664155096, 6.458120705621383, 6.411493798661803, 6.372291575850179, 6.333240987856549, 6.287186277144719, 6.248465646652656, 6.209895459204097, 6.171475341373254, 6.1332049239659465, 6.095083841918436, 6.057111734199088, 6.019288243712756, 5.981613017207777, 5.950992078281292, 5.913584888871994, 5.876324969563997, 5.84604146851497, 5.809047752228932, 5.778980530763388, 5.7490100937784465, 5.712399900830538, 5.68264426667933, 5.652984736394792, 5.6234210977176495, 5.593953140990345, 5.564580659103015, 5.535303447440786, 5.506121303832341, 5.477034028499729, 5.4480414240093635, 5.4191432952241625, 5.396836442671292, 5.368105092907794, 5.339467673278666, 5.317361480243786, 5.288889840084823, 5.266911251603315, 5.238604759693757, 5.2167532317905785, 5.188611271963753, 5.166886274897447, 5.145216233614483, 5.117309263208136, 5.09576500027546, 5.074275347863903, 5.052840198645585, 5.03145944675013, 5.003927208526079, 4.982671065790308, 4.961468997483369];
%---------------------------------------------------------------------------------------%
total_inductor_losses_Jrms2=[66.75789836097397, 64.75368933700379, 62.93542270508557, 61.22061191767614, 59.67842443968341, 58.22977428637061, 56.90691679884769, 55.6702179117663, 54.51685215469364, 53.44419805621341, 52.44983195633406, 51.49784185622926, 50.62047410584931, 49.78271192429821, 48.98359831300887, 48.2547440806856, 47.56227780393582, 46.873385506151045, 46.25165395660117, 45.66413282245215, 45.11019096186192, 44.55798665890908, 44.03856551398603, 43.582301476503176, 43.095943231005066, 42.67178113914498, 42.247982825440396, 41.854897677360896, 41.461897692962225, 41.099100578706945, 40.73614053446144, 40.402927013520625, 40.06933118334766, 39.76507793246082, 39.48990477089841, 39.184412508335015, 38.90783441199609, 38.6599439731384, 38.41117262997907, 38.16151925663688, 37.94023668520987, 37.7179570453476, 37.49468026126931, 37.29951757541749, 37.07419688197043, 36.905929100718765, 36.707505128883966, 36.53695707265535, 36.365255854032796, 36.19240270112648, 36.04728384192621, 35.87210182218363, 35.72460941907633, 35.60475379767716, 35.454857385485866, 35.3325758360261, 35.2090798819061, 35.08437068468633, 34.95845005339447, 34.83132042269696, 34.731760108092246, 34.63098938444913, 34.52900934195902, 34.42582158792728, 34.321428230448994, 34.21583186268202, 34.13783574505294, 34.0586554029223, 33.97829186982216, 33.89674658175369, 33.814021365373776, 33.730118426585406, 33.67392846644714, 33.58768681098038, 33.52919635754624, 33.46956986141013, 33.40880851112517, 33.34691379329501, 33.28388748453455, 33.21973164368295, 33.1544486042574, 33.117125091727175, 33.07873170043126, 33.01011673152037, 32.969552690113446, 32.92792202808692, 32.88522601485721, 32.8414661318515, 32.7966440673093, 32.7800995073785, 32.7331870461896, 32.68521784371453, 32.665631697957515, 32.61558228430826, 32.59398895737476, 32.57141507026685, 32.54786146773257, 32.52332914737431, 32.49781925625168, 32.47133308757297, 32.443872077472044, 32.41543780186758, 32.38603197340177, 32.38553238895964, 32.35422462808555, 32.3519152248328, 32.318711037929624, 32.31459508406039, 32.309603048147466, 32.303735444969746, 32.26678997194736, 32.259123734531464, 32.250584725386176, 32.24117386664901, 32.23089217662016, 32.219740767882676, 32.20772084546555, 32.194833705047984, 32.21166142038305, 32.19708839844902, 32.212340077478125, 32.19608484589768, 32.17896885769328, 32.191828995924624, 32.17303812440972, 32.18432801923462, 32.16386749225386, 32.17359026450467, 32.182560150184415, 32.19077757926843, 32.167033118369936];

total_inductor_losses_Jrms3=[105.12184462184109, 101.63966599104636, 98.4277754336386, 95.47321600508128, 92.7640442705066, 90.22740701869108, 87.85627430884911, 85.64406568592119, 83.58463478342085, 81.67225513635213, 79.90160713069227, 78.21115964406863, 76.5984572430014, 75.0611573040602, 73.6515564636943, 72.3117593285283, 71.03982941323432, 69.78113181531596, 68.64004270030404, 67.50981245463299, 66.49287008425375, 65.48467470384155, 64.53553063043157, 63.59411635415205, 62.7099016028288, 61.881613329984155, 61.05928091046175, 60.29126739579621, 59.52840057247455, 58.81836549894163, 58.16014635908644, 57.505672051262714, 56.854918995979034, 56.25439520390583, 55.65697076682471, 55.0626274837686, 54.5170717404221, 53.9740357644784, 53.47874977485709, 52.98547744285757, 52.494206652782474, 52.004926439440204, 51.56198769382712, 51.1205904937535, 50.724707115511194, 50.28616478476877, 49.892740191730375, 49.50044530429467, 49.152541907648825, 48.762309146119335, 48.416123814836055, 48.070712486837316, 47.72607044902193, 47.424688837191475, 47.081417824036905, 46.78111361744918, 46.4812772351908, 46.1819054325122, 45.924834041851305, 45.62625087500443, 45.36972306228084, 45.11340917795282, 44.85730678702171, 44.60141383753046, 44.34572864843916, 44.13132776787967, 43.8759438774287, 43.661646004136486, 43.44735449340238, 43.2330678566426, 43.01878489267835, 42.80450467935641, 42.63069874510206, 42.4163338483393, 42.242290375137586, 42.02783824155737, 41.85355368575308, 41.679115445534904, 41.50452282105741, 41.32977531837875, 41.15487264399615, 41.01967832973232, 40.844397999344466, 40.708716868748496, 40.533057992452505, 40.3968879413861, 40.26045145198866, 40.12374801727154, 39.986777279608354, 39.84953902713846, 39.71203319027198, 39.57425983829253, 39.43621917605369, 39.297911540765796, 39.19860143745646, 39.059713920304056, 38.95975563699251, 38.82028916147728, 38.71968224693718, 38.618739638853995, 38.51746110669777, 38.41584651949261, 38.2748664111936, 38.172604439281045, 38.10898656677525, 38.00602836725549, 37.90273487840501, 37.79910652365732, 37.69514381215569, 37.629721012620365, 37.525063591751945, 37.458917741042704, 37.35356682059958, 37.286697737158974, 37.180655126506494, 37.113063198972156, 37.04510843502269, 36.93801744860148, 36.8693410285084, 36.80030204554328, 36.730900581852005, 36.66113677829112, 36.591010833345074, 36.52052300206682, 36.449673595041205, 36.37846297737046, 36.30689156768107, 36.23495983715142, 36.20137255248589, 36.12871306766396, 36.055694564983];

total_inductor_losses_Jrms4=[147.74274200027446, 142.5860763871462, 137.9415896784576, 133.6858694033643, 129.705459356947, 125.98827469567581, 122.52299497604496, 119.38869063812896, 116.30652977620917, 113.53629032644123, 110.89425771758053, 108.37617692519824, 105.97798439402152, 103.77775391440733, 101.68768591298293, 99.70440557544086, 97.74577303302249, 95.96752339300235, 94.28688352249354, 92.6248306864737, 91.05667770562157, 89.57986673901716, 88.11804317438576, 86.74429234592681, 85.45636191144939, 84.18027414760921, 82.9871505951865, 81.80442636540249, 80.70201416072415, 79.60866869627901, 78.52433943445385, 77.58553176924576, 76.58568113937676, 75.66084156074385, 74.74268051286961, 73.89745950252242, 73.05789487587737, 72.22395822539043, 71.46058642398228, 70.70191806433851, 69.94793040103733, 69.19860161765763, 68.5172549318445, 67.839738952782, 67.2286716543253, 66.55839242742087, 65.95382280079404, 65.35231338681105, 64.75385082719265, 64.21939013588225, 63.687324976895056, 63.097264399283205, 62.570251905358276, 62.045603845200844, 61.58281118765402, 61.062571570121904, 60.60362286656252, 60.1464571521888, 59.691067181264565, 59.29567423155139, 58.843561270582576, 58.45096240952539, 58.00210194447516, 57.612274040081, 57.2237156457967, 56.836421858062096, 56.45038804774909, 56.12207068319603, 55.73832768896551, 55.41189829509761, 55.08631781136608, 54.7615825970616, 54.38215945281385, 54.11463446715683, 53.79241530561117, 53.471028910197816, 53.15047264145122, 52.88541538536973, 52.56633254168661, 52.30242243443764, 52.039011309330355, 51.77609690471369, 51.51367710601937, 51.25174994201235, 50.99031358115343, 50.72936632806923, 50.46890662012543, 50.26217685108053, 50.002544275523604, 49.796388790468605, 49.53757779526346, 49.331990679782486, 49.0739966295271, 48.868972841529306, 48.66417536622717, 48.45960303021163, 48.255254754256, 48.0511295511974, 47.847226523873545, 47.64354486311353, 47.49185548600878, 47.2885054343739, 47.085374592877315, 46.93394395271733, 46.73114041996125, 46.57985404708295, 46.37737555419079, 46.226230512754505, 46.07511869632259, 45.873069263099254, 45.722095145882726, 45.57115236700929, 45.420240340119605, 45.26935853682928, 45.1185064855961, 44.96768377061331, 44.81689003072814, 44.66612495838456, 44.51538829858984, 44.36467984790393, 44.26414765221377, 44.11341899240618, 43.96271797343462, 43.86200130341959, 43.711278606288104, 43.6104238822225, 43.45967880675757, 43.358684517908, 43.20791670475917, 43.106781662952805, 42.95599108146886];

total_inductor_losses_Jrms5=[193.45595341262327, 186.751492207073, 180.47393304727086, 174.73636562072073, 169.51171586014064, 164.51871892666202, 160.00038922678706, 155.687653516147, 151.6946389708657, 147.8886330343865, 144.4985440354397, 141.0434914982572, 137.87101747777348, 134.85787140006897, 131.99883123950048, 129.39855955941678, 126.83167082564346, 124.4047994874749, 122.11370651325214, 119.84998482117865, 117.71658859401602, 115.70975786521423, 113.82595162323832, 111.961906752087, 110.21638050828145, 108.48832871717899, 106.87460177774501, 105.27623294232058, 103.78829605123201, 102.31376387320904, 100.94606126142409, 99.58996595180702, 98.24541746750901, 97.00352535801119, 95.77154022071139, 94.63917518949313, 93.42612988440473, 92.31121449395792, 91.29238058478398, 90.28056138901171, 89.18918931046835, 88.27783924906959, 87.28687426829553, 86.3875766736283, 85.4939924921282, 84.60609747481408, 83.8070649152593, 82.9299353009763, 82.14059483761127, 81.35582798737501, 80.73817667752446, 79.880712309557, 79.26981320594052, 78.50171912107703, 77.81760228649236, 77.13705393929209, 76.46006101883984, 75.78661081226204, 75.1945320667232, 74.60517895162072, 74.01854156990967, 73.43461030750238, 72.8533758241253, 72.27482904451882, 71.77464618363754, 71.27645369711163, 70.70518590154428, 70.21126579859424, 69.71931507201587, 69.2293272490063, 68.74129605398207, 68.32871347481716, 67.84426630167, 67.43468699743696, 66.953802100671, 66.54720593898126, 66.14196534183544, 65.66623103960887, 65.2639459449655, 64.93433380985611, 64.53447304656245, 64.13594732616711, 63.738752946001576, 63.413241250160496, 63.0184423934125, 62.694858575909294, 62.302442391097635, 61.98077439499459, 61.65995790653436, 61.33999026955027, 61.02086892314637, 60.702591399448096, 60.38515532141557, 60.068558400716725, 59.75279843565824, 59.43787330917203, 59.19142832696603, 58.87796276482004, 58.565326192948234, 58.32060338879154, 58.00941538305311, 57.7657810153576, 57.5226120548805, 57.21348259520591, 56.97139256700665, 56.72976341183115, 56.488593720650286, 56.247882141976326, 56.00762738068681, 55.76782819687658, 55.52848340473728, 55.28959187146322, 55.05115251618291, 54.813164308915205, 54.640366032994706, 54.40312367736891, 54.16632959945855, 53.9943129542048, 53.75825915948718, 53.586724584709984, 53.351407742235764, 53.18035168976022, 53.00948211595144, 52.77518804077124, 52.604792148371914, 52.37122803572905, 52.20130304274463, 52.09470581142998, 51.86200036598356, 51.629734915785875, 51.52342291267824];

total_inductor_losses_Jrms6=[241.8473972112056, 233.35881564720694, 225.42535135265302, 218.19442679331365, 211.45945777169652, 205.364980420463, 199.55167071176197, 194.17039532069538, 189.04403810673966, 184.31926384289645, 179.8261795363677, 175.55664484701546, 171.65173144701134, 167.80419671509398, 164.30276747793414, 160.84950456950378, 157.58479187127008, 154.5026208004281, 151.59730657500373, 148.86348016428605, 146.1619870947601, 143.625112413418, 141.11705552652256, 138.76720423102208, 136.57114363511872, 134.3977533419731, 132.37257233602293, 130.36725314286576, 128.38168569675588, 126.53782364635072, 124.71113954536037, 123.02140801035718, 121.34649115254747, 119.80415455162012, 118.27447126239075, 116.75738026610367, 115.25282146879877, 113.87480055800316, 112.50736146535147, 111.150456270636, 109.91555169285144, 108.57870356200743, 107.47203188405686, 106.26334166525643, 105.06331556393502, 103.97955681201233, 102.90289915681434, 101.83331411192316, 100.87636649484756, 99.82014002261562, 98.87516739063057, 97.9358342228942, 97.00211935637077, 96.07400198894373, 95.25330053928413, 94.33569681993211, 93.5243037502594, 92.71726696463307, 91.91457125183445, 91.11620167270398, 90.42071263319721, 89.63041061232141, 88.94195231004846, 88.15966552504989, 87.47819050138796, 86.79995695854481, 86.12495453586368, 85.54840319150998, 84.87936925881405, 84.21353732366072, 83.64481034167876, 82.9848925765004, 82.42121046091417, 81.85984432984708, 81.30078724028864, 80.74403238961287, 80.18957311171687, 79.6374028732833, 79.17831608250582, 78.63031833274312, 78.0845913220661, 77.63084106765467, 77.1786486343237, 76.63892900028756, 76.19015401410006, 75.74292324142277, 75.29723245167008, 74.85307750647473, 74.41045435743922, 73.96935904395171, 73.52978769106316, 73.09173650742363, 72.74145646574776, 72.30612218003219, 71.95799576002379, 71.61081974029163, 71.17938066168418, 70.7494415632327, 70.40558738197689, 70.06267280292593, 69.72069536202771, 69.2957932925034, 68.95592561588369, 68.61698788617348, 68.27897786912807, 67.94189338446583, 67.6057323047349, 67.3528982117186, 67.0183359760204, 66.6846912059333, 66.35196197300029, 66.10165274074919, 65.77050767505095, 65.44027277385223, 65.1917959677017, 64.86313522042695, 64.61581427400299, 64.36898205690353, 64.04255066058242, 63.79686584780897, 63.55166576253568, 63.227451106125386, 62.98339062571354, 62.73981118347178, 62.49671162296488, 62.254090819111205, 62.0119476776238, 61.77028113446333, 61.52909015530241, 61.28837373500107, 61.048130897093046];

%---------------------------------------------------------------------------------------%
%Total MOSFET, DIODE and INDUCTOR losses
total_losses_inductor_mos_di=total_inductor_losses_Jrms2./6....
    +((total_mos_diode_losses_7+total_mos_diode_losses_4+total_mos_diode_losses_2+...
    total_mos_diode_losses_3+total_mos_diode_losses_5+total_mos_diode_losses_6)./6)';
%---------------------------------------------------------------------------------------%
figure(1)
plot(frequencies/1000,total_losses_inductor_mos_di,'LineWidth',3)
[Min,I]=min(total_losses_inductor_mos_di);
hold on
disp(Min)
disp(frequencies(I))

total_losses_inductor_mos_di=total_inductor_losses_Jrms3./6....
    +((total_mos_diode_losses_7+total_mos_diode_losses_4+total_mos_diode_losses_2+...
    total_mos_diode_losses_3+total_mos_diode_losses_5+total_mos_diode_losses_6)./6)';

%figure(2)
plot(frequencies/1000,total_losses_inductor_mos_di,'LineWidth',3)
disp(Min)
disp(frequencies(I))

total_losses_inductor_mos_di=total_inductor_losses_Jrms4./6....
    +((total_mos_diode_losses_7+total_mos_diode_losses_4+total_mos_diode_losses_2+...
    total_mos_diode_losses_3+total_mos_diode_losses_5+total_mos_diode_losses_6)./6)';

%figure(3)
plot(frequencies/1000,total_losses_inductor_mos_di,'LineWidth',3)
disp(Min)
disp(frequencies(I))

total_losses_inductor_mos_di=total_inductor_losses_Jrms5./6....
    +((total_mos_diode_losses_7+total_mos_diode_losses_4+total_mos_diode_losses_2+...
    total_mos_diode_losses_3+total_mos_diode_losses_5+total_mos_diode_losses_6)./6)';

%figure(4)
plot(frequencies/1000,total_losses_inductor_mos_di,'LineWidth',3)
disp(Min)
disp(frequencies(I))

total_losses_inductor_mos_di=total_inductor_losses_Jrms6./6....
    +((total_mos_diode_losses_7+total_mos_diode_losses_4+total_mos_diode_losses_2+...
    total_mos_diode_losses_3+total_mos_diode_losses_5+total_mos_diode_losses_6)./6)';

%figure(5)
plot(frequencies/1000,total_losses_inductor_mos_di,'LineWidth',3)
plot(frequencies(I)/1000, Min,'r*','LineWidth',5)
grid on
xlabel('Switching frequency [kHz]','FontSize',20)
ylabel('Power losses [W]','FontSize',20)
legend({'11.8 mm2','7.9 mm2','5.9 mm2','4.7 mm2','3.9mm2', 'Minimum losses (fs= 53 kHz)'},'FontSize',16)
disp(Min)
disp(frequencies(I))
